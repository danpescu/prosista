---
import { getProductImage, DEFAULT_PRODUCT_IMAGE } from '@/utils/constants';

interface Props {
  name: string;
  image: string;
  category?: string;
  categorySlug?: string;
}

const { name, image, category, categorySlug } = Astro.props;
const productImage = getProductImage(image, categorySlug);
const defaultImage = DEFAULT_PRODUCT_IMAGE;
---

<section class="relative h-[400px] md:h-[500px] flex items-center">
  <div class="absolute inset-0 z-0">
    <img 
      src={productImage} 
      alt={name}
      class="w-full h-full object-cover"
      onerror={`this.src='${defaultImage}'; this.onerror=null;`}
    />
    <div class="absolute inset-0 bg-gradient-to-r from-secondary-900/80 to-secondary-900/60"></div>
  </div>
  
  <div class="relative z-10 w-full mx-auto px-4 sm:px-6 lg:px-8 xl:px-12">
    {category && (
      <div class="text-primary-300 text-sm font-medium mb-4">{category}</div>
    )}
    <h1 class="text-white text-4xl md:text-5xl lg:text-6xl font-bold">
      {name}
    </h1>
  </div>
</section>

