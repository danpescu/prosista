---
import Navbar from '@/components/layout/Navbar.astro';
import Footer from '@/components/layout/Footer.astro';
import '@/styles/global.css';

interface Props {
  title: string;
  description: string;
  image?: string;
  keywords?: string;
}

const { 
  title, 
  description, 
  image = '/images/og-image.jpg',
  keywords = 'tavane suspendate, tavane metalice, tavane acustice, sisteme tavan, panouri acustice, România'
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content={Astro.generator}>
  
  <!-- Primary Meta Tags -->
  <title>{title} | Prosista România</title>
  <meta name="title" content={`${title} | Prosista România`}>
  <meta name="description" content={description}>
  <meta name="keywords" content={keywords}>
  
  <!-- Canonical URL -->
  <link rel="canonical" href={canonicalURL}>
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content={canonicalURL}>
  <meta property="og:title" content={`${title} | Prosista România`}>
  <meta property="og:description" content={description}>
  <meta property="og:image" content={new URL(image, Astro.site)}>
  <meta property="og:locale" content="ro_RO">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content={canonicalURL}>
  <meta property="twitter:title" content={`${title} | Prosista România`}>
  <meta property="twitter:description" content={description}>
  <meta property="twitter:image" content={new URL(image, Astro.site)}>
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Prosista România",
    "url": Astro.site,
    "logo": new URL('/images/logo.png', Astro.site),
    "description": "Producător de sisteme de tavane suspendate metalice și acustice",
    "contactPoint": {
      "@type": "ContactPoint",
      "telephone": "+40-444-5-772",
      "contactType": "Customer Service",
      "areaServed": "RO",
      "availableLanguage": "Romanian"
    },
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "RO",
      "addressLocality": "București"
    },
    "sameAs": [
      "https://www.instagram.com/prosistatavan",
      "https://www.linkedin.com/company/prosistatavan"
    ]
  })} />
</head>
<body class="font-sans antialiased bg-white text-secondary-900">
  <Navbar />
  
  <main>
    <slot />
  </main>
  
  <Footer />
  
  <!-- Scroll to Top Button -->
  <button
    id="scroll-to-top"
    class="fixed bottom-8 right-8 bg-primary-600 text-white p-3 rounded-full shadow-lg opacity-0 pointer-events-none transition-all duration-300 hover:bg-primary-700 z-50"
    aria-label="Înapoi sus"
  >
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
    </svg>
  </button>
  
  <script>
    // Scroll to top functionality
    const scrollBtn = document.getElementById('scroll-to-top');
    
    window.addEventListener('scroll', () => {
      if (window.scrollY > 300) {
        scrollBtn?.classList.remove('opacity-0', 'pointer-events-none');
      } else {
        scrollBtn?.classList.add('opacity-0', 'pointer-events-none');
      }
    });
    
    scrollBtn?.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  </script>
</body>
</html>

